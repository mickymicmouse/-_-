## 4. 통합구현

#### 구성

* 송신 시스템
* 수신 시스템
* 중계 시스템
* 연계 데이터
* 네트워크

#### 연계 요구사항 분석 절차

1. 네트워크&소프트웨어 구성 네트워크 현황 파악
2. 테이블 정의서, 코드 정의서 확인
3. 체크리스트 작성
4. 인터뷰 혹은 설문조사
5. 요구사항 정의서 작성

#### 연계 데이터 식별 및 표준화

1. 연계 범위 및 항목 정의
2. 연계 코드 변환 및 매핑
3. 연계 데이터 식별자와 변경 구분 추가
4. 연계 데이터 표현 정의
5. 연계 정의서 및 명세서 작성

#### 연계 메커니즘

###### 연계 방식

* 직접 연계
  * DB Link
  * API
  * DB Connection
  * JDBC
* 간접 연계
  * 연계 시스템
  * ESB(Enterprise Service Bus)
  * Socket
  * Web service

###### 연계 구성 요소

* 송신 시스템
  1. 연계 데이터 생성 및 추출
  2. 코드 매핑 및 데이터 변환
  3. 인터페이스 테이블 또는 파일 생성
  4. 연계 서버 및 송신 어댑터
* 전송
* 수신 시스템
  1. 연계 서버 및 수신 어댑터
  2. 인터페이스 테이블 또는 파일 생성
  3. 코드 매핑 및 데이터 변환
  4. 운영 DB에 연계 데이터 반영

#### 연계 장애 및 오류처리

###### 구간 (오류 발생시점, 오류 기록 장소, 오류 기록 주체)

* 송신 시스템
* 수신 시스템
* 연계 서버

###### 오류 설계

* 장애 및 오류 관리 대상
  * 송수신은 정의하고, 연계서버는 연계시스템에서 정의함
* 관리 대상의 장애 및 오류 코드와 메시지 정의
* 장애 및 오류 코드와 메시지 관리 방식
  * 양이 많으면 테이블, 적으면 파일

* 장애 및 오류 기록 방식
  * 인터페이스 테이블, 파일에 대한 로그, 연계 데이터에 대한 로그

#### 연계 데이터 보안 적용

###### 보안 방식

* 전송 구간 보안
  * 패킷을 가로채지 못하도록 암호화 된 프로토콜을 사용하거나 데이터나 패킷을 암호화
  * VPN, 연계솔루션

* 데이터 보안
  * 데이터를 추출할 때, 운영 DB에 반영할 때 데이터를 암복호화 하는 것

###### 암호화 알고리즘 (데이터 보안)

* 단방향
  * 해시를 사용함
* 양방향
  * 송수신 시스템 연계시 사용
  * SEED, ARIA, DES, AES, RSA

###### 암복호화 적용 절차 (데이터 보안)

1. 암호화 대상, 알고리즘, 키 선정
2. 암호화 적용 대상 컬럼의 데이터 길이 변경
3. 알고리즘 라이브러리 확보 및 설치
4. 연계 응용 프로그램에서 암복호화 처리 수행



#### 연계 모듈의 구현 환경

###### EAI

* point to point
* Hub & Spark
* Message Bus (ESB)
* Hybrid

###### ESB

EAI, ESB 구축 절차

1. 연계를 위한 DB 설치 및 계정 생성
2. 데이터 ,인터페이스, 매핑 정보, 오류코드를 저장할 테이블 생성
3. 트리거 또는 프로그래밍 언어를 이용해서 연계 응용 프로그램 구현

###### Web Service

* WSDL
* UDDI
* SOAP

웹서비스 구축 절차

1. 연계 파일, 로그파일, 오류 로그파일 등이 생성될 위치와 파일명 설정 후 디렉토리 생성
2. 송신시스템에서 DB에서 데이터를 추출하여 XML형식으로 변환하는 응용 프로그램 구현
3. WSDL의 내용을 바탕으로 전송된 파일 내용을 수신 시스템 DB에 반영하는 서비스 실행

#### XML

```xml
<?xml = version ="버전" encoding = "언어셋" standalone = "yes|no"?>
<요소이름 속성1="속성값1" 속성2="속성값2" ...>내용</요소이름>
```

###### SOAP

xml을 교환하기 위한 통신 규약

* Envelop
* Header
* Body

최근에는 RESTful로 옮겨가는 추세

###### WSDL

| 1.1       | 2.0       | 설명                     |
| --------- | --------- | ------------------------ |
| types     | types     | 자료형 정의              |
| message   | 삭제      | 메소드의 인수와 리턴값   |
| portType  | interface | 웹서비스의 인터페이스    |
| operation | operation | 요청 및 응답 메시지 정의 |
| binding   | binding   | 통신 방법 정의           |
| service   | service   | 웹 서비스 정의           |
| port      | endpoint  | binding 연결             |



#### 연계 테스트

1. 연계 테스트 케이스 작성
2. 연계 테스트 환경 구축
3. 연계 테스트 수행
4. 연계 테스트 수행 결과 검증



